= Build NNabla for Godot Engine
:author: MizunagiKB
:copyright: 2023 MizunagiKB <mizukb@live.jp>
:doctype: book
:toc:
:toclevels: 3
:lang: ja
:encoding: utf-8
:stylesdir: ./doc/res/theme/css
:stylesheet: adoc-golo.css
:source-highlighter: highlight.js
:experimental:
ifndef::env-github[:icons: font]
ifdef::env-github,env-browser[]
endif::[]
ifdef::env-github[]
:caution-caption: :fire:
:important-caption: :exclamation:
:note-caption: :paperclip:
:tip-caption: :bulb:
:warning-caption: :warning:
endif::[]

== How to build
=== Build for macOS

[source, zsh]
----
pushd thirdparty
git clone https://github.com/sony/nnabla-ext-cuda
git clone https://github.com/MizunagiKB/nnabla
cd nnabla
git checkout custom-cmake

mkdir build.cmake
cd build.cmake

cmake .. \
    -DNBLA_BUILD_SHARED_LIBS=OFF \
    -DBUILD_CPP_UTILS=ON \
    -DBUILD_PYTHON_PACKAGE=OFF \
    -DNNABLA_UTILS_WITH_HDF5=ON \
    -DNNABLA_UTILS_STATIC_LINK_DEPS=ON \
    -DCMAKE_BUILD_TYPE=Debug
make
popd

python src.gen/src.gen.py

scons platform=macos arch=arm64 target=template_debug
scons platform=macos arch=arm64 target=template_release
----
